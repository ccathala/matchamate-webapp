<form [formGroup]="createSessionForm" (ngSubmit)="onSubmit()">
  <!-- Region input -->
  <div class="form-group">
    <label for="regionList">Région:</label>
    <select
      id="regionList"
      class="form-control"
      (change)="onChangeRegionSelect($event.target.value)"
    >
      <option value="" selected>Sélectionner la région</option>
      <option *ngFor="let regionItem of regionList" [value]="regionItem.code">{{
        regionItem.nom
      }}</option>
    </select>
  </div>

  <!-- Departement input -->
  <div class="form-group">
    <label for="departementList">Région:</label>
    <select
      id="departementList"
      class="form-control"
      [disabled]="!selectedRegion"
      (change)="onChangeDepartementSelect($event.target.value)"
    >
      <option value="" selected>Sélectionner le département</option>
      <option
        *ngFor="let departementItem of queriedDepartementList"
        [value]="departementItem.code"
        >{{ departementItem.nom }}</option
      >
    </select>
  </div>

  <!-- Company input -->
  <div class="form-group">
    <label for="company">Structure:</label>
    <select
      id="company"
      class="form-control"
      formControlName="company"
      (ngModelChange)="setSelectedCompany($event)"
    >
      <option value="" select>Sélectionnez le lieu de pratique</option>
      <option
        *ngFor="let companyItem of queriedCompanyList"
        [ngValue]="companyItem"
        >{{ companyItem.name }}</option
      >
    </select>
  </div>

  <!-- Date input -->
  <div class="form-group">
    <label for="date">Date:</label>
    <div class="row">
      <div class="col-3 form-group">
        <input
          id="date"
          type="text"
          placeholder="Date"
          class="form-control"
          formControlName="date"
          #dp="bsDatepicker"
          bsDatepicker
          [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }"
          [datesDisabled]="disabledDates"
          [minDate]="minDate"
          (ngModelChange)="setSelectedDate($event)"
          />
        </div>


      <div class="col-3 form-group">
        <button
          class="btn btn-primary"
          (click)="dp.toggle()"
          [attr.aria-expanded]="dp.isOpen"
          type="button"
        >
          Sélectionner la date
        </button>
      </div>
    </div>
  </div>

  <!-- Time input -->
  <div class="form-group">
    <label for="beginTime">Heure de début:</label>
    <select id="beginTime" formControlName="beginTime" class="form-control">
      <option value="" selected>Sélectionner l'heure de début</option>
      <option
        *ngFor="let dayScheduleItem of generatedDaySchedule"
        [value]="dayScheduleItem.hour"
        [disabled]="!dayScheduleItem.isFree"
        >{{ dayScheduleItem.hour }} <span *ngIf="!dayScheduleItem.isFree" > - Réservé</span></option
      >
    </select>
  </div>

  <!-- Max players number input -->
  <div class="form-group">
    <label for="maxPlayersNumber">Nombre maximum de joueurs:</label>
    <select
      id="maxPlayersNumber"
      formControlName="maxPlayersNumber"
      class="form-control"
    >
      <option value="" selected
        >Sélectionner le nombre maximum de joueurs</option
      >
      <option value="2">2</option>
      <option value="4">4</option>
    </select>
  </div>

  <!-- Badminton level required input -->
  <div class="form-group">
    <label for="badmintonRequiredLevel">Niveau de badminton requis:</label>
    <select
      id="badmintonRequiredLevel"
      formControlName="badmintonRequiredLevel"
      class="form-control"
    >
      <option value="" selected
        >Sélectionner le niveau de badminton requis</option
      >
      <option value="Débutant">Débutant</option>
      <option value="Régulier">Régulier</option>
      <option value="Confirmé">Confirmé</option>
    </select>
  </div>

  <div class="text-right">
    <button class="btn btn-success mt-4" type="submit" [disabled]="!createSessionForm.valid">Créer la session</button>
  </div>
</form>
<div class="mt-4">
  <p class="alert alert-success" *ngIf="sessionCreationSuccess">Session créée avec succès!</p>
  <p class="alert alert-danger" *ngIf="!sessionCreationSuccess && sessionCreationSuccess != null">Echec de la création de session!</p>
</div>



